<div class="flex-center margin-bottom-32">Custom Spreadsheet</div>

<table
  mat-table
  [dataSource]="dataSource"
  class="mat-elevation-z8 table-container"
  (scroll)="onScroll()"
>
  >
  <ng-container matColumnDef="Position">
    <th mat-header-cell *matHeaderCellDef></th>
    <td mat-cell class="width-20" *matCellDef="let element">
      {{ element.position }}
    </td>
  </ng-container>

  <ng-container matColumnDef="Id">
    <th mat-header-cell *matHeaderCellDef>Id</th>
    <td mat-cell *matCellDef="let element">
      <mat-form-field>
        <input
          class="text-align-center"
          type="text"
          matInput
          #input
          placeholder=""
          value="{{ element.id }}"
        />
      </mat-form-field>
    </td>
  </ng-container>

  <ng-container matColumnDef="Application name">
    <th mat-header-cell *matHeaderCellDef>Application name</th>
    <td mat-cell *matCellDef="let element">
      <mat-form-field>
        <input
          class="text-align-center"
          type="text"
          matInput
          #input
          maxlength="200"
          placeholder=""
          value="{{ element.applicationName }}"
        />
      </mat-form-field>
    </td>
  </ng-container>

  <ng-container matColumnDef="Email">
    <th mat-header-cell *matHeaderCellDef>Email</th>
    <td mat-cell *matCellDef="let element">
      <mat-form-field>
        <input
          class="text-align-center"
          type="text"
          matInput
          #input
          maxlength="200"
          placeholder=""
          value="{{ element.email }}"
        />
      </mat-form-field>
    </td>
  </ng-container>

  <ng-container matColumnDef="File name">
    <th mat-header-cell *matHeaderCellDef>File name</th>
    <td mat-cell *matCellDef="let element">
      <mat-form-field>
        <input
          class="text-align-center"
          type="text"
          matInput
          #input
          maxlength="300"
          placeholder=""
          value="{{ element.fileName }}"
        />
      </mat-form-field>
    </td>
  </ng-container>

  <ng-container matColumnDef="Url">
    <th mat-header-cell *matHeaderCellDef>Url</th>
    <td mat-cell *matCellDef="let element">
      <mat-form-field>
        <input
          type="url"
          pattern="https://.*"
          class="text-align-center"
          type="text"
          matInput
          #input
          placeholder=""
          value="{{ element.url }}"
        />
      </mat-form-field>
    </td>
  </ng-container>

  <ng-container matColumnDef="Inception">
    <th mat-header-cell *matHeaderCellDef>Inception</th>
    <td mat-cell *matCellDef="let element">
      <mat-form-field class="date-picker">
        <input matInput [matDatepicker]="picker" [max]="maxDate" />
        <mat-datepicker-toggle
          matIconSuffix
          [for]="picker"
        ></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
    </td>
  </ng-container>

  <ng-container matColumnDef="Amount">
    <th mat-header-cell *matHeaderCellDef>Amount</th>
    <td mat-cell *matCellDef="let element">
      <mat-form-field>
        <input
          class="text-align-center"
          type="number"
          matInput
          #input
          placeholder=""
          value="{{ element.amount.value }}"
        />
        <span matTextPrefix>{{ element.amount.currency }}&nbsp;</span>
      </mat-form-field>
    </td>
  </ng-container>

  <ng-container matColumnDef="Allocation">
    <th mat-header-cell *matHeaderCellDef>Allocation</th>
    <td mat-cell *matCellDef="let element">
      <mat-form-field>
        <input
          class="text-align-center"
          matInput
          #input
          placeholder=""
          value="{{ element.allocation | number : '1.2-2' }}"
          type="number"
          min="0"
          max="100"
        />
      </mat-form-field>
    </td>
  </ng-container>

  <ng-container matColumnDef="Remove">
    <th mat-header-cell *matHeaderCellDef></th>
    <td mat-cell *matCellDef="let element">
      <button
        (click)="removeData(element.position)"
        mat-fab
        color="primary"
        aria-label="Delete data"
      >
        <mat-icon>delete</mat-icon>
      </button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
</table>
